Architecture 
---
Flink 1.X's architecture consists of various components such as deploy, core processing, and APIs. We can easily compare the latest architecture with Stratosphere's architecture and see its evolution. The following diagram shows the components, APIs, and libraries:
（Flink 1.x 的架构包括了很多组件，比如deploy,core processing 和一些API.我们比较容易比较`Stratosphere`与Flink最新版的架构，并可以看出它们的演变过程。下边的图显示了各种组件和API及包。）
![image.png](https://upload-images.jianshu.io/upload_images/10186629-50bb281aa966644b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

Flink has a layered architecture where each component is a part of a specific layer. Each layer is built on top of the others for clear abstraction. Flink is designed to run on local machines, in a YARN cluster, or on the cloud, Runtime is Flink's core data processing engine that receives the program through APIs in the form of JobGraph. JobGraph is a simple parallel data flow with a set of tasks that produce and consume data streams.
Flink 的架构是分层架构，在这个构架里每个组件都是某层的组成部分。某一层都构建在其他层之前为了更清晰的抽象。Flink 的架构设计可以运行在本地机器上，也可以运行在YARN 集群，或者云，Runtime 是Flink的数据处理引擎核心，该引擎会通过API以`JobGraph`的形式接受应用程序。`JobGraph`是一个简单的并行`data flow`,该`data flow`是一组生产和消费`data stream`的任务的集合。


The DataStream and DataSet APIs are the interfaces programmers can use for defining the Job. JobGraphs are generated by these APIs when the programs are compiled. Once compiled, the DataSet API allows the optimizer to generate the optimal execution plan while DataStream API uses a stream build for efficient execution plans
(DataStream和DataSet 
 APIs 是程序可以用来定义job的接口。当程序被编译时，通过这些API生成`JobGraphs`。一旦编译完成，DataSet API 允许优化器生成最优的执行计划,而DataStream API 使用stream 构建有效的执行计划。)

The optimized JobGraph is then submitted to the executors according to the deployment model. You can choose a local, remote, or YARN mode of deployment. If you have a Hadoop cluster already running, it is always better to use a YARN mode of deployment.
（优化后的`JobGraph`随后会根据部署模型被提交给执行器，你可以选择local,remote or YARN 部署模型。如果你已经运行着hadoop cluster,那么使用YARN部署模型会比较好。）


